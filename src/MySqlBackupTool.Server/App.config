<?xml version="1.0" encoding="utf-8"?>
<configuration>
  <!-- 应用程序设置 -->
  <appSettings>
    <!-- MySQL备份工具核心配置 -->
    <add key="MySqlBackupTool.ConnectionString" value="Data Source=server_backup_tool.db" />
    <add key="MySqlBackupTool.EnableEncryption" value="true" />
    <add key="MySqlBackupTool.EnableNotifications" value="true" />
    <add key="MySqlBackupTool.DefaultCompressionLevel" value="Optimal" />
    <add key="MySqlBackupTool.MaxConcurrentBackups" value="5" />
    <add key="MySqlBackupTool.DefaultRetentionDays" value="30" />
    <add key="MySqlBackupTool.EnableAuditing" value="true" />
    <add key="MySqlBackupTool.AuditLogPath" value="logs/audit/backup-audit-{Date}.log" />
    
    <!-- 服务器配置 -->
    <add key="ServerConfig.ListenPort" value="8080" />
    <add key="ServerConfig.MaxConcurrentConnections" value="20" />
    <add key="ServerConfig.EnableSsl" value="false" />
    <add key="ServerConfig.SslCertificatePath" value="certificates/server.pfx" />
    <add key="ServerConfig.SslCertificatePassword" value="your_certificate_password" />
    <add key="ServerConfig.AuthenticationRequired" value="true" />
    <add key="ServerConfig.AllowedClients" value="127.0.0.1,192.168.1.0/24" />
    
    <!-- 存储配置 -->
    <add key="StorageConfig.PrimaryStoragePath" value="D:/Backup" />
    <add key="StorageConfig.EnableCompression" value="true" />
    <add key="StorageConfig.EnableEncryption" value="true" />
    <add key="StorageConfig.MaxStorageSize" value="100GB" />
    <add key="StorageConfig.CleanupInterval" value="24:00:00" />
    
    <!-- 警报配置 -->
    <add key="Alerting.EnableAlerting" value="true" />
    <add key="Alerting.BaseUrl" value="https://api.example.com" />
    <add key="Alerting.TimeoutSeconds" value="30" />
    <add key="Alerting.MaxRetryAttempts" value="3" />
    <add key="Alerting.EnableCircuitBreaker" value="true" />
    <add key="Alerting.MinimumSeverity" value="Warning" />
    <add key="Alerting.MaxAlertsPerHour" value="50" />
    <add key="Alerting.NotificationTimeout" value="00:01:00" />
    <add key="Alerting.DefaultHeaders.X-API-Key" value="your_api_key_here" />
    <add key="Alerting.DefaultHeaders.User-Agent" value="MySqlBackupTool/1.0" />
    
    <!-- 邮件警报配置 -->
    <add key="Alerting.Email.Enabled" value="true" />
    <add key="Alerting.Email.SmtpServer" value="smtp.gmail.com" />
    <add key="Alerting.Email.SmtpPort" value="587" />
    <add key="Alerting.Email.UseSsl" value="true" />
    <add key="Alerting.Email.Username" value="backup@example.com" />
    <add key="Alerting.Email.Password" value="your_email_password" />
    <add key="Alerting.Email.FromAddress" value="backup@example.com" />
    <add key="Alerting.Email.Recipients" value="admin@example.com,dba@example.com" />
    
    <!-- Webhook警报配置 -->
    <add key="Alerting.Webhook.Enabled" value="false" />
    <add key="Alerting.Webhook.Url" value="https://hooks.slack.com/services/YOUR/WEBHOOK/URL" />
    <add key="Alerting.Webhook.HttpMethod" value="POST" />
    <add key="Alerting.Webhook.ContentType" value="application/json" />
    <add key="Alerting.Webhook.AuthToken" value="your_webhook_token" />
    
    <!-- 文件日志警报配置 -->
    <add key="Alerting.FileLog.Enabled" value="true" />
    <add key="Alerting.FileLog.LogDirectory" value="logs/alerts" />
    <add key="Alerting.FileLog.FileNamePattern" value="alerts_{yyyy-MM-dd}.log" />
    <add key="Alerting.FileLog.MaxFileSizeMB" value="10" />
    <add key="Alerting.FileLog.MaxFileCount" value="30" />
    
    <!-- SMTP配置 -->
    <add key="SmtpConfig.Host" value="smtp.gmail.com" />
    <add key="SmtpConfig.Port" value="587" />
    <add key="SmtpConfig.EnableSsl" value="true" />
    <add key="SmtpConfig.Username" value="backup@example.com" />
    <add key="SmtpConfig.Password" value="your_app_password" />
    <add key="SmtpConfig.FromAddress" value="backup@example.com" />
    <add key="SmtpConfig.FromName" value="MySQL 备份服务" />
    <add key="SmtpConfig.TimeoutSeconds" value="30" />
    
    <!-- 日志配置 -->
    <add key="Logging.LogLevel.Default" value="Information" />
    <add key="Logging.LogLevel.MySqlBackupTool" value="Debug" />
    <add key="Logging.LogLevel.Microsoft" value="Warning" />
    <add key="Logging.LogLevel.System" value="Warning" />
    <add key="Logging.File.Path" value="logs/server-{Date}.log" />
    <add key="Logging.File.RollingInterval" value="Day" />
    <add key="Logging.File.RetainedFileCountLimit" value="30" />
    <add key="Logging.File.FileSizeLimitBytes" value="10485760" />
    <add key="Logging.Console.Enabled" value="true" />
    <add key="Logging.Console.IncludeScopes" value="false" />
    
    <!-- 内存分析配置 -->
    <add key="MemoryProfiling.EnableProfiling" value="false" />
    <add key="MemoryProfiling.ProfilingInterval" value="00:05:00" />
    <add key="MemoryProfiling.MaxMemoryThresholdMB" value="1024" />
    <add key="MemoryProfiling.EnableGCCollection" value="true" />
    <add key="MemoryProfiling.LogMemoryUsage" value="true" />
    
    <!-- 开发环境特定配置 (可通过条件编译或环境变量控制) -->
    <!-- 当 DEVELOPMENT 环境变量设置时，这些值将覆盖上面的默认值 -->
    <add key="Development.MySqlBackupTool.EnableEncryption" value="false" />
    <add key="Development.MySqlBackupTool.DefaultCompressionLevel" value="Fastest" />
    <add key="Development.MySqlBackupTool.MaxConcurrentBackups" value="2" />
    <add key="Development.MySqlBackupTool.DefaultRetentionDays" value="7" />
    <add key="Development.ServerConfig.MaxConcurrentConnections" value="10" />
    <add key="Development.ServerConfig.EnableSsl" value="false" />
    <add key="Development.ServerConfig.AuthenticationRequired" value="false" />
    <add key="Development.StorageConfig.PrimaryStoragePath" value="backups" />
    <add key="Development.StorageConfig.EnableEncryption" value="false" />
    <add key="Development.StorageConfig.MaxStorageSize" value="10GB" />
    <add key="Development.StorageConfig.CleanupInterval" value="12:00:00" />
    <add key="Development.Alerting.TimeoutSeconds" value="10" />
    <add key="Development.Alerting.MaxRetryAttempts" value="2" />
    <add key="Development.Alerting.EnableCircuitBreaker" value="false" />
    <add key="Development.Alerting.MinimumSeverity" value="Information" />
    <add key="Development.Alerting.MaxAlertsPerHour" value="100" />
    <add key="Development.Alerting.NotificationTimeout" value="00:00:30" />
    <add key="Development.Alerting.Email.Enabled" value="false" />
    <add key="Development.Alerting.FileLog.MaxFileSizeMB" value="5" />
    <add key="Development.Alerting.FileLog.MaxFileCount" value="7" />
    <add key="Development.Logging.LogLevel.Default" value="Debug" />
    <add key="Development.Logging.LogLevel.MySqlBackupTool" value="Trace" />
    <add key="Development.Logging.LogLevel.Microsoft" value="Information" />
    <add key="Development.Logging.LogLevel.System" value="Information" />
    <add key="Development.MemoryProfiling.EnableProfiling" value="true" />
    <add key="Development.MemoryProfiling.ProfilingInterval" value="00:01:00" />
    <add key="Development.MemoryProfiling.MaxMemoryThresholdMB" value="512" />
  </appSettings>
  
  <!-- 连接字符串配置 -->
  <connectionStrings>
    <add name="DefaultConnection" connectionString="Data Source=server_backup_tool.db" providerName="Microsoft.Data.Sqlite" />
    <add name="BackupDatabase" connectionString="Data Source=server_backup_tool.db" providerName="Microsoft.Data.Sqlite" />
  </connectionStrings>
  
  <!-- 运行时配置 -->
  <runtime>
    <assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">
      <!-- 程序集绑定重定向可以在这里添加 -->
    </assemblyBinding>
  </runtime>
  
  <!-- 启动配置 -->
  <startup>
    <supportedRuntime version="v4.0" sku=".NETFramework,Version=v4.8" />
  </startup>
</configuration>