# MySQL备份工具客户端用户操作手册

## 目录

1. [界面概览](#界面概览)
2. [主窗体操作](#主窗体操作)
3. [配置管理](#配置管理)
4. [备份监控](#备份监控)
5. [日志浏览](#日志浏览)
6. [报告查看](#报告查看)
7. [调度管理](#调度管理)
8. [传输日志查看](#传输日志查看)
9. [系统托盘功能](#系统托盘功能)
10. [数据库诊断](#数据库诊断)
11. [常见操作流程](#常见操作流程)
12. [快捷键参考](#快捷键参考)
13. [故障处理](#故障处理)

## 界面概览

### 主窗体布局
MySQL备份工具客户端采用传统的Windows应用程序界面设计：

```
┌─────────────────────────────────────────────────────────┐
│ File  Tools  Help                                       │
├─────────────────────────────────────────────────────────┤
│                                                         │
│                    主要内容区域                          │
│                                                         │
│                                                         │
├─────────────────────────────────────────────────────────┤
│ 状态栏：显示应用程序状态信息                              │
└─────────────────────────────────────────────────────────┘
```

### 菜单结构
- **File（文件）**
  - Exit：退出应用程序
- **Tools（工具）**
  - Configuration Management：配置管理
  - Backup Monitor：备份监控
  - Log Browser：日志浏览器
  - Schedule Management：调度管理
  - Transfer Log Viewer：传输日志查看器
  - Test Database Connection：测试数据库连接
- **Help（帮助）**
  - About：关于信息

## 主窗体操作

### 启动应用程序
1. **正常启动**：双击应用程序图标
2. **管理员启动**：右键点击图标 → "以管理员身份运行"
3. **命令行启动**：在命令提示符中运行可执行文件

### 主窗体功能
- **导航中心**：通过菜单访问各个功能模块
- **状态显示**：在状态栏显示当前应用程序状态
- **快速访问**：提供常用功能的快捷方式

### 退出应用程序
- **菜单退出**：File → Exit
- **快捷键**：Alt+F4
- **窗体关闭**：点击窗体右上角的 ✕ 按钮

## 配置管理

### 打开配置管理
- **菜单路径**：Tools → Configuration Management
- **快捷键**：Ctrl+C
- **功能**：管理所有备份配置

### 配置列表界面

#### 界面布局
```
┌─────────────────────────────────────────────────────────┐
│ [New] [Edit] [Delete] [Activate] [Deactivate] [Refresh]│
├─────────────────────────────────────────────────────────┤
│ 配置名称    │ 状态  │ MySQL主机    │ 目标服务器    │ 最后备份 │
│ 生产数据库   │ 激活  │ mysql.com   │ backup.com   │ 1小时前  │
│ 测试数据库   │ 停用  │ test.com    │ test-bak.com │ 1天前   │
├─────────────────────────────────────────────────────────┤
│ 总计: 2个配置, 1个激活                    [Close]        │
└─────────────────────────────────────────────────────────┘
```

#### 操作按钮说明
- **New**：创建新的备份配置
- **Edit**：编辑选中的配置
- **Delete**：删除选中的配置（需要确认）
- **Activate**：激活选中的配置
- **Deactivate**：停用选中的配置
- **Refresh**：刷新配置列表
- **Close**：关闭配置管理窗体

### 创建新配置

#### 步骤1：点击New按钮
- 点击配置列表中的"New"按钮
- 系统打开配置编辑窗体

#### 步骤2：填写基本信息
```
配置名称: [输入描述性名称，如"生产数据库备份"]
激活状态: ☑ 激活此配置
```

#### 步骤3：配置MySQL连接
```
MySQL连接设置
├─ 主机地址: [输入MySQL服务器地址]
├─ 端口: [3306]
├─ 用户名: [输入MySQL用户名]
├─ 密码: [输入MySQL密码]
├─ 服务名称: [MySQL80] (可选)
└─ 数据目录: [C:\ProgramData\MySQL\...] (可选)
```

**连接测试**：
- 点击"Test MySQL Connection"按钮
- 等待测试结果
- 确保测试通过后再继续

#### 步骤4：配置目标服务器
```
目标服务器设置
├─ 服务器地址: [输入备份服务器地址]
├─ 端口: [8080]
├─ 启用SSL: ☐ (生产环境建议启用)
└─ 目标目录: [backups]
```

**服务器测试**：
- 点击"Test Target Server"按钮
- 验证服务器连接正常

#### 步骤5：配置文件命名
```
文件命名策略
├─ 命名模式: [DateTime ▼]
├─ 日期格式: [yyyyMMdd_HHmmss]
├─ 包含服务器名: ☑
└─ 包含数据库名: ☐
```

#### 步骤6：保存配置
- 点击"Save"按钮保存配置
- 系统验证配置信息
- 保存成功后返回配置列表

### 编辑现有配置

#### 选择配置
1. 在配置列表中选择要编辑的配置
2. 点击"Edit"按钮
3. 系统打开配置编辑窗体，显示当前配置信息

#### 修改配置
- 修改需要更改的配置项
- 重新测试连接（如果修改了连接信息）
- 点击"Save"保存更改

#### 取消编辑
- 点击"Cancel"按钮取消更改
- 系统不保存任何修改

### 删除配置

#### 删除步骤
1. 选择要删除的配置
2. 点击"Delete"按钮
3. 系统显示确认对话框
4. 点击"是"确认删除，或"否"取消操作

#### 删除确认对话框
```
┌─────────────────────────────────────┐
│ 确认删除                             │
├─────────────────────────────────────┤
│ 确定要删除配置"生产数据库备份"吗？     │
│                                     │
│ 此操作无法撤销。                     │
├─────────────────────────────────────┤
│           [是]    [否]              │
└─────────────────────────────────────┘
```

### 激活/停用配置

#### 激活配置
- 选择停用的配置
- 点击"Activate"按钮
- 配置状态变为"激活"

#### 停用配置
- 选择激活的配置
- 点击"Deactivate"按钮
- 配置状态变为"停用"

**注意**：只有激活的配置才会在备份监控中显示，才能执行备份操作。

## 备份监控

### 打开备份监控
- **菜单路径**：Tools → Backup Monitor
- **快捷键**：Ctrl+M
- **功能**：监控和控制备份操作

### 监控界面布局

```
┌─────────────────────────────────────────────────────────┐
│ 激活的备份配置                                           │
├─────────────────────────────────────────────────────────┤
│ 配置名称    │ MySQL主机    │ 状态    │ 最后备份    │ 操作  │
│ 生产数据库   │ mysql.com   │ 就绪    │ 2小时前     │[开始] │
│ 测试数据库   │ test.com    │ 就绪    │ 1天前      │[开始] │
├─────────────────────────────────────────────────────────┤
│ 正在运行的备份                                           │
├─────────────────────────────────────────────────────────┤
│ 配置名称    │ 状态        │ 进度    │ 开始时间    │ 操作  │
│ 生产数据库   │ 传输中      │ 65%     │ 14:30:22   │[取消] │
├─────────────────────────────────────────────────────────┤
│ 当前进度: ████████████████████████████████████████ 65%   │
│ 状态: 正在传输文件到服务器...                            │
├─────────────────────────────────────────────────────────┤
│ 激活配置: 2个 | 运行中备份: 1个              [刷新][关闭] │
└─────────────────────────────────────────────────────────┘
```

### 启动备份操作

#### 手动启动备份
1. **选择配置**：在上半部分的配置列表中选择要备份的配置
2. **点击开始**：点击对应行的"开始"按钮
3. **确认操作**：系统可能显示确认对话框
4. **监控进度**：备份开始后，在下半部分显示进度

#### 备份确认对话框
```
┌─────────────────────────────────────┐
│ 确认启动备份                         │
├─────────────────────────────────────┤
│ 配置: 生产数据库备份                 │
│ MySQL: mysql.company.com:3306       │
│ 目标: backup.company.com:8080       │
│                                     │
│ 确定要启动此备份操作吗？             │
├─────────────────────────────────────┤
│           [是]    [否]              │
└─────────────────────────────────────┘
```

### 监控备份进度

#### 备份状态说明
- **就绪**：配置可用，等待启动备份
- **队列中**：备份已排队，等待执行
- **停止MySQL**：正在停止MySQL服务
- **压缩中**：正在压缩备份文件
- **分块处理**：正在处理大文件分块
- **传输中**：正在传输文件到服务器
- **校验中**：正在验证文件完整性
- **启动MySQL**：正在重启MySQL服务
- **验证中**：正在验证备份完整性
- **完成**：备份操作成功完成
- **失败**：备份操作失败
- **恢复中**：正在从中断点恢复传输

#### 进度信息
- **进度条**：显示当前操作的完成百分比
- **状态描述**：显示当前正在执行的操作
- **时间信息**：显示开始时间和预计完成时间
- **传输速度**：显示文件传输速度（如适用）
- **分块进度**：显示大文件分块传输进度
- **重试信息**：显示网络重试次数和状态

### 取消备份操作

#### 取消步骤
1. **选择备份**：在正在运行的备份列表中选择要取消的备份
2. **点击取消**：点击对应行的"取消"按钮
3. **确认取消**：在确认对话框中点击"是"

#### 取消确认对话框
```
┌─────────────────────────────────────┐
│ 确认取消备份                         │
├─────────────────────────────────────┤
│ 确定要取消正在进行的备份操作吗？     │
│                                     │
│ 配置: 生产数据库备份                 │
│ 当前状态: 传输中 (65%)              │
│                                     │
│ 注意: 取消操作可能需要一些时间。     │
├─────────────────────────────────────┤
│           [是]    [否]              │
└─────────────────────────────────────┘
```

### 自动刷新设置
- **刷新间隔**：2秒自动刷新
- **手动刷新**：点击"刷新"按钮立即更新
- **暂停刷新**：关闭窗体时自动暂停刷新

## 日志浏览

### 打开日志浏览器
- **菜单路径**：Tools → Log Browser
- **快捷键**：Ctrl+L
- **功能**：浏览和分析备份日志

### 日志浏览器界面

```
┌─────────────────────────────────────────────────────────┐
│ 过滤条件                                                 │
├─────────────────────────────────────────────────────────┤
│ 开始日期: [2024-01-01 ▼] 结束日期: [2024-01-30 ▼]      │
│ 状态: [全部 ▼] 配置: [全部 ▼] 搜索: [关键词_______]     │
│                                          [应用过滤]     │
├─────────────────────────────────────────────────────────┤
│ 备份日志列表                                             │
├─────────────────────────────────────────────────────────┤
│ 配置名称  │状态│开始时间    │结束时间    │文件大小│传输时间│
│ 生产数据库│成功│14:30:22   │14:35:45   │125MB  │5分23秒 │
│ 测试数据库│失败│13:15:10   │13:15:45   │0MB    │35秒   │
│ 生产数据库│成功│12:30:15   │12:38:22   │128MB  │8分7秒  │
├─────────────────────────────────────────────────────────┤
│ 日志详情                                                 │
├─────────────────────────────────────────────────────────┤
│ 配置: 生产数据库备份                                     │
│ 状态: 成功                                               │
│ 开始时间: 2024-01-30 14:30:22                          │
│ 结束时间: 2024-01-30 14:35:45                          │
│ 文件大小: 125.6 MB                                      │
│ 传输时间: 5分23秒                                        │
│ 传输速度: 398.2 KB/s                                    │
│                                                         │
│ 传输日志:                                                │
│ [14:30:22] 开始备份操作                                  │
│ [14:30:25] 停止MySQL服务成功                             │
│ [14:30:26] 开始压缩数据文件                              │
│ [14:33:15] 压缩完成，文件大小: 125.6 MB                  │
│ [14:33:16] 开始传输文件到服务器                          │
│ [14:35:40] 文件传输完成                                  │
│ [14:35:42] 启动MySQL服务成功                             │
│ [14:35:45] 备份操作完成                                  │
├─────────────────────────────────────────────────────────┤
│ [查看详情] [导出日志] [生成报告] [刷新] [关闭]            │
└─────────────────────────────────────────────────────────┘
```

### 使用过滤功能

#### 日期过滤
1. **设置开始日期**：点击开始日期下拉框，选择起始日期
2. **设置结束日期**：点击结束日期下拉框，选择结束日期
3. **应用过滤**：点击"应用过滤"按钮

#### 状态过滤
- **全部**：显示所有状态的日志
- **成功**：只显示成功的备份日志
- **失败**：只显示失败的备份日志
- **进行中**：只显示正在进行的备份

#### 配置过滤
- **全部**：显示所有配置的日志
- **特定配置**：选择特定配置名称，只显示该配置的日志

#### 关键词搜索
1. 在搜索框中输入关键词
2. 系统在日志内容中搜索匹配的记录
3. 支持模糊匹配和部分匹配

### 查看日志详情

#### 在列表中查看
- 点击日志列表中的任意记录
- 下方详情区域显示该日志的详细信息

#### 打开详情窗体
1. 选择要查看的日志记录
2. 点击"查看详情"按钮
3. 系统打开独立的日志详情窗体

#### 详情窗体内容
- **基本信息**：配置名称、状态、时间等
- **文件信息**：文件大小、传输速度等
- **详细日志**：完整的操作日志记录
- **错误信息**：如果备份失败，显示错误详情

### 导出日志功能

#### 导出单个日志
1. 选择要导出的日志记录
2. 点击"导出日志"按钮
3. 选择保存位置和文件名
4. 系统将日志保存为文本文件

#### 导出格式示例
```
备份日志详情
=====================================
配置名称: 生产数据库备份
备份状态: 成功
开始时间: 2024-01-30 14:30:22
结束时间: 2024-01-30 14:35:45
总耗时: 5分23秒
文件大小: 125.6 MB
传输速度: 398.2 KB/s

详细日志:
[14:30:22] 开始备份操作
[14:30:25] 停止MySQL服务成功
[14:30:26] 开始压缩数据文件
[14:33:15] 压缩完成，文件大小: 125.6 MB
[14:33:16] 开始传输文件到服务器
[14:35:40] 文件传输完成
[14:35:42] 启动MySQL服务成功
[14:35:45] 备份操作完成
```

## 报告查看

### 生成备份报告
1. 在日志浏览器中点击"生成报告"按钮
2. 系统分析当前过滤条件下的所有日志
3. 生成综合性的备份摘要报告
4. 在报告查看器中显示结果

### 报告查看器界面

```
┌─────────────────────────────────────────────────────────┐
│ 备份摘要报告                                             │
├─────────────────────────────────────────────────────────┤
│ 报告生成时间: 2024-01-30 15:45:30                       │
│ 统计期间: 2024-01-01 至 2024-01-30                      │
│                                                         │
│ 总体统计:                                                │
│ ├─ 总备份次数: 156次                                     │
│ ├─ 成功备份: 148次 (94.9%)                              │
│ ├─ 失败备份: 8次 (5.1%)                                 │
│ ├─ 总传输数据: 18.7 GB                                  │
│ ├─ 平均传输速度: 425.3 KB/s                             │
│ └─ 平均备份时间: 6分42秒                                 │
│                                                         │
│ 配置统计:                                                │
│ ┌─────────────────────────────────────────────────────┐ │
│ │ 配置名称      │ 备份次数 │ 成功率 │ 平均大小 │ 平均时间 │ │
│ │ 生产数据库    │ 78次    │ 96.2% │ 125MB   │ 5分30秒 │ │
│ │ 测试数据库    │ 52次    │ 92.3% │ 85MB    │ 4分15秒 │ │
│ │ 开发数据库    │ 26次    │ 96.2% │ 45MB    │ 2分45秒 │ │
│ └─────────────────────────────────────────────────────┘ │
│                                                         │
│ 性能趋势:                                                │
│ ├─ 最快备份: 1分23秒 (开发数据库, 2024-01-15)            │
│ ├─ 最慢备份: 12分45秒 (生产数据库, 2024-01-08)           │
│ ├─ 最大文件: 256MB (生产数据库, 2024-01-25)              │
│ └─ 最高速度: 1.2 MB/s (测试数据库, 2024-01-20)          │
│                                                         │
│ 错误分析:                                                │
│ ├─ 网络连接错误: 3次                                     │
│ ├─ MySQL服务错误: 2次                                    │
│ ├─ 磁盘空间不足: 2次                                     │
│ └─ 其他错误: 1次                                         │
├─────────────────────────────────────────────────────────┤
│                              [导出报告] [关闭]           │
└─────────────────────────────────────────────────────────┘
```

### 导出报告
1. 在报告查看器中点击"导出报告"按钮
2. 选择保存位置和文件名
3. 系统将报告保存为格式化的文本文件

## 调度管理

### 打开调度管理
- **菜单路径**：Tools → Schedule Management
- **快捷键**：Ctrl+S
- **功能**：管理备份调度配置

### 调度管理界面

```
┌─────────────────────────────────────────────────────────┐
│ [New] [Edit] [Delete] [Enable] [Disable] [Refresh]     │
├─────────────────────────────────────────────────────────┤
│ 调度名称    │ 状态  │ 频率    │ 执行时间  │ 关联配置    │ 下次执行 │
│ 每日备份    │ 启用  │ 每日    │ 02:00    │ 生产数据库   │ 明天2点  │
│ 周末备份    │ 停用  │ 每周    │ 周日3点   │ 测试数据库   │ -       │
├─────────────────────────────────────────────────────────┤
│ 调度详情                                                 │
├─────────────────────────────────────────────────────────┤
│ 调度名称: 每日备份                                       │
│ 执行频率: 每日                                           │
│ 执行时间: 02:00                                         │
│ 关联配置: 生产数据库备份                                 │
│ 创建时间: 2024-01-30 10:30:22                          │
│ 最后执行: 2024-01-30 02:00:15                          │
│ 下次执行: 2024-01-31 02:00:00                          │
│ 执行状态: 成功                                           │
├─────────────────────────────────────────────────────────┤
│ 总计: 2个调度, 1个启用                    [Close]        │
└─────────────────────────────────────────────────────────┘
```

### 创建调度配置

#### 基本信息
- **调度名称**：输入描述性的调度名称
- **调度描述**：可选的详细描述
- **启用状态**：是否启用此调度

#### 执行频率设置
- **每日**：每天在指定时间执行
- **每周**：每周在指定星期和时间执行
- **每月**：每月在指定日期和时间执行
- **自定义**：使用Cron表达式自定义执行时间

#### 关联配置
- **备份配置**：选择要执行的备份配置
- **执行参数**：可选的执行参数设置
- **超时设置**：调度执行超时时间

### 调度执行监控
- **执行历史**：查看调度执行历史记录
- **执行状态**：监控当前调度执行状态
- **错误处理**：查看调度执行错误信息
- **性能统计**：分析调度执行性能

## 传输日志查看

### 打开传输日志查看器
- **菜单路径**：Tools → Transfer Log Viewer
- **快捷键**：Ctrl+T
- **功能**：查看详细的文件传输日志

### 传输日志界面

```
┌─────────────────────────────────────────────────────────┐
│ 过滤条件                                                 │
├─────────────────────────────────────────────────────────┤
│ 备份配置: [全部 ▼] 传输状态: [全部 ▼] 日期: [今天 ▼]    │
│                                          [应用过滤]     │
├─────────────────────────────────────────────────────────┤
│ 传输日志列表                                             │
├─────────────────────────────────────────────────────────┤
│ 配置名称  │状态│开始时间  │文件大小│传输速度│分块数│完成度│
│ 生产数据库│成功│14:30:22 │125MB  │2.1MB/s│8块  │100% │
│ 测试数据库│进行│14:35:10 │85MB   │1.8MB/s│5块  │65%  │
├─────────────────────────────────────────────────────────┤
│ 传输详情                                                 │
├─────────────────────────────────────────────────────────┤
│ 配置: 生产数据库备份                                     │
│ 文件: backup_20240130_143022.sql.gz                    │
│ 总大小: 125.6 MB (131,678,208 字节)                    │
│ 分块数: 8块 (每块16MB)                                  │
│ 传输速度: 2.1 MB/s (平均)                               │
│ 开始时间: 2024-01-30 14:30:22                          │
│ 完成时间: 2024-01-30 14:31:45                          │
│ 总耗时: 1分23秒                                         │
│                                                         │
│ 分块传输详情:                                            │
│ [14:30:22] 块1/8: 开始传输 (0-16MB)                     │
│ [14:30:32] 块1/8: 传输完成 (2.1MB/s)                    │
│ [14:30:33] 块2/8: 开始传输 (16-32MB)                    │
│ [14:30:42] 块2/8: 传输完成 (2.0MB/s)                    │
│ [14:30:43] 块3/8: 开始传输 (32-48MB)                    │
│ [14:30:52] 块3/8: 传输完成 (2.2MB/s)                    │
│ ...                                                     │
│ [14:31:40] 块8/8: 传输完成 (1.8MB/s)                    │
│ [14:31:42] 校验和验证: 通过                              │
│ [14:31:45] 传输完成                                     │
├─────────────────────────────────────────────────────────┤
│ [导出日志] [重试传输] [刷新] [关闭]                       │
└─────────────────────────────────────────────────────────┘
```

### 传输监控功能
- **实时监控**：实时显示传输进度和状态
- **分块跟踪**：详细跟踪每个文件分块的传输
- **速度统计**：显示实时和平均传输速度
- **错误分析**：分析传输错误和重试情况
- **性能指标**：提供传输性能分析

### 断点续传监控
- **中断检测**：自动检测传输中断
- **恢复进度**：显示断点续传恢复进度
- **令牌验证**：验证续传令牌有效性
- **完整性检查**：确保续传文件完整性

## 系统托盘功能

### 系统托盘集成
- **最小化到托盘**：点击关闭按钮最小化到系统托盘
- **托盘图标状态**：图标显示当前备份状态
- **气球提示**：重要事件的气球提示通知
- **后台监控**：在后台继续监控备份状态

### 托盘右键菜单

```
┌─────────────────────┐
│ 显示主窗口           │
├─────────────────────┤
│ 备份监控             │
│ 配置管理             │
│ 日志浏览             │
├─────────────────────┤
│ 启动备份 ►           │
│   ├─ 生产数据库      │
│   ├─ 测试数据库      │
│   └─ 开发数据库      │
├─────────────────────┤
│ 退出                 │
└─────────────────────┘
```

### 托盘功能操作
- **双击恢复**：双击托盘图标恢复主窗体
- **状态显示**：鼠标悬停显示当前状态
- **快速启动**：通过右键菜单快速启动备份
- **通知管理**：管理系统通知和提醒

### 托盘状态指示
- **绿色图标**：系统正常，无备份运行
- **蓝色图标**：有备份正在进行
- **红色图标**：有备份失败或错误
- **灰色图标**：系统离线或连接异常

## 数据库诊断

### 打开数据库测试
- **菜单路径**：Tools → Test Database Connection
- **功能**：诊断和修复数据库连接问题

### 数据库测试界面

```
┌─────────────────────────────────────────────────────────┐
│ 数据库连接测试                                           │
├─────────────────────────────────────────────────────────┤
│ 测试结果:                                                │
│                                                         │
│ ✓ 数据库文件存在                                         │
│   路径: C:\MySqlBackupTool\client_backup_tool.db       │
│   大小: 2.3 MB                                         │
│   最后修改: 2024-01-30 14:30:22                        │
│                                                         │
│ ✓ 数据库连接成功                                         │
│   连接时间: 15ms                                        │
│   连接字符串: Data Source=client_backup_tool.db        │
│                                                         │
│ ✓ 基本查询测试通过                                       │
│   查询时间: 8ms                                         │
│   配置数量: 3个                                         │
│                                                         │
│ ✓ 运行中备份查询测试通过                                 │
│   查询时间: 12ms                                        │
│   运行中备份: 0个                                       │
│                                                         │
│ 总测试时间: 156ms                                       │
│ 测试状态: 全部通过 ✓                                    │
├─────────────────────────────────────────────────────────┤
│                    [重新测试] [修复数据库] [关闭]        │
└─────────────────────────────────────────────────────────┘
```

### 测试项目说明

#### 数据库文件检查
- **检查项目**：数据库文件是否存在
- **显示信息**：文件路径、大小、最后修改时间
- **可能问题**：文件不存在、权限不足

#### 连接测试
- **检查项目**：是否能成功连接数据库
- **显示信息**：连接时间、连接字符串
- **可能问题**：文件锁定、权限问题

#### 查询测试
- **检查项目**：是否能执行基本查询
- **显示信息**：查询时间、配置数量
- **可能问题**：数据库损坏、表结构问题

#### 运行中备份查询
- **检查项目**：是否能查询正在运行的备份
- **显示信息**：查询时间、运行中备份数量
- **可能问题**：索引问题、数据不一致

### 数据库修复功能

#### 自动修复
1. 点击"修复数据库"按钮
2. 系统执行以下修复操作：
   - 删除SQLite锁文件（.wal, .shm, .journal）
   - 重建数据库连接
   - 验证表结构完整性
   - 重建索引（如需要）

#### 修复结果显示
```
┌─────────────────────────────────────────────────────────┐
│ 数据库修复结果                                           │
├─────────────────────────────────────────────────────────┤
│ 修复操作:                                                │
│                                                         │
│ ✓ 删除锁文件: client_backup_tool.db-wal                 │
│ ✓ 删除锁文件: client_backup_tool.db-shm                 │
│ ✓ 重建数据库连接                                         │
│ ✓ 验证表结构完整性                                       │
│ ✓ 重建索引                                               │
│                                                         │
│ 修复状态: 成功完成 ✓                                     │
│                                                         │
│ 建议: 重新启动应用程序以确保修复生效。                   │
├─────────────────────────────────────────────────────────┤
│                              [确定]                     │
└─────────────────────────────────────────────────────────┘
```

## 常见操作流程

### 首次使用流程

#### 1. 安装和启动
```
安装.NET 8.0 Runtime → 下载应用程序 → 以管理员身份运行
```

#### 2. 测试数据库
```
Tools → Test Database Connection → 确认测试通过
```

#### 3. 创建第一个配置
```
Tools → Configuration Management → New → 填写配置信息 → 测试连接 → Save
```

#### 4. 执行第一次备份
```
Tools → Backup Monitor → 选择配置 → 开始备份 → 监控进度
```

#### 5. 查看备份结果
```
Tools → Log Browser → 查看备份日志 → 确认备份成功
```

### 日常使用流程

#### 定期备份操作
```
1. 打开备份监控
2. 检查配置状态
3. 启动需要的备份
4. 监控备份进度
5. 确认备份完成
```

#### 问题排查流程
```
1. 查看日志浏览器中的错误日志
2. 使用数据库测试诊断连接问题
3. 检查配置参数是否正确
4. 测试MySQL和服务器连接
5. 必要时修复数据库
```

#### 报告生成流程
```
1. 打开日志浏览器
2. 设置适当的过滤条件
3. 生成备份报告
4. 分析备份统计信息
5. 导出报告文件
```

### 维护操作流程

#### 配置维护
```
1. 定期检查配置有效性
2. 测试数据库和服务器连接
3. 更新过期的密码和证书
4. 清理不需要的配置
```

#### 日志维护
```
1. 定期查看备份日志
2. 分析失败的备份原因
3. 导出重要的日志记录
4. 清理过期的日志数据
```

## 快捷键参考

### 全局快捷键
- **Ctrl+C**：打开配置管理
- **Ctrl+M**：打开备份监控
- **Ctrl+L**：打开日志浏览器
- **F5**：刷新当前窗体
- **Alt+F4**：退出应用程序
- **Esc**：关闭当前对话框

### 配置管理快捷键
- **Ctrl+N**：新建配置
- **Ctrl+E**：编辑选中配置
- **Delete**：删除选中配置
- **Ctrl+A**：激活选中配置
- **Ctrl+D**：停用选中配置

### 备份监控快捷键
- **Ctrl+S**：启动选中配置的备份
- **Ctrl+X**：取消选中的备份
- **F5**：手动刷新状态

### 日志浏览器快捷键
- **Ctrl+F**：应用过滤条件
- **Ctrl+R**：刷新日志列表
- **Ctrl+E**：导出选中日志
- **Enter**：查看选中日志详情

## 故障处理

### 常见问题及解决方案

#### 应用程序启动问题

**问题1：应用程序无法启动**
- **症状**：双击图标无反应或出现错误提示
- **原因**：缺少.NET运行时或权限不足
- **解决**：
  1. 安装.NET 8.0 Desktop Runtime
  2. 以管理员身份运行
  3. 检查防病毒软件是否阻止

**问题2：界面显示异常**
- **症状**：界面模糊、控件重叠或显示不全
- **原因**：高DPI显示设置问题
- **解决**：
  1. 右键应用程序图标 → 属性 → 兼容性
  2. 勾选"替代高DPI缩放行为"
  3. 选择"应用程序"缩放模式

#### 数据库连接问题

**问题1：数据库连接失败**
- **症状**：提示数据库连接错误
- **原因**：数据库文件锁定或损坏
- **解决**：
  1. 使用"Test Database Connection"诊断
  2. 点击"修复数据库"
  3. 重新启动应用程序

**问题2：配置数据丢失**
- **症状**：之前创建的配置不见了
- **原因**：数据库文件被删除或移动
- **解决**：
  1. 检查应用程序目录下是否有数据库文件
  2. 从备份恢复数据库文件
  3. 重新创建配置

#### 备份操作问题

**问题1：MySQL连接失败**
- **症状**：备份时提示MySQL连接错误
- **原因**：MySQL服务未启动或连接参数错误
- **解决**：
  1. 检查MySQL服务状态
  2. 验证连接参数（主机、端口、用户名、密码）
  3. 使用配置编辑中的连接测试功能

**问题2：目标服务器连接失败**
- **症状**：备份时提示服务器连接错误
- **原因**：服务器未运行或网络问题
- **解决**：
  1. 确认备份服务器正在运行
  2. 检查网络连接
  3. 验证服务器地址和端口
  4. 检查防火墙设置

**问题3：备份操作卡住**
- **症状**：备份进度长时间不变
- **原因**：网络中断或服务器响应慢
- **解决**：
  1. 等待一段时间（可能是大文件传输）
  2. 取消当前备份操作
  3. 检查网络连接稳定性
  4. 重新启动备份

#### 权限问题

**问题1：MySQL服务控制失败**
- **症状**：提示无法停止或启动MySQL服务
- **原因**：权限不足
- **解决**：
  1. 以管理员身份重新启动应用程序
  2. 确认当前用户有服务控制权限
  3. 在配置中禁用服务控制功能

**问题2：文件访问被拒绝**
- **症状**：提示文件访问权限错误
- **原因**：应用程序没有足够的文件系统权限
- **解决**：
  1. 以管理员身份运行应用程序
  2. 检查应用程序目录的权限设置
  3. 将应用程序安装到有写权限的目录

### 日志分析

#### 查看应用程序日志
1. 打开日志浏览器
2. 查看最近的错误日志
3. 分析错误信息和堆栈跟踪
4. 根据错误类型采取相应措施

#### 查看系统事件日志
1. 打开Windows事件查看器
2. 导航到"Windows日志" → "应用程序"
3. 查找与MySqlBackupTool相关的事件
4. 分析错误详情

### 获取技术支持

#### 准备支持信息
1. **应用程序版本**：在Help → About中查看
2. **操作系统版本**：Windows版本和更新状态
3. **错误信息**：完整的错误消息和堆栈跟踪
4. **操作步骤**：重现问题的详细步骤
5. **配置信息**：相关的配置参数（隐藏敏感信息）

#### 联系支持渠道
- **GitHub Issues**：提交详细的问题报告
- **邮件支持**：发送支持请求邮件
- **社区论坛**：在用户社区寻求帮助
- **文档查阅**：查看最新的文档和FAQ

---

本操作手册涵盖了MySQL备份工具客户端的所有主要功能和操作流程。如有其他问题，请参考相关文档或联系技术支持。